# ๐ ฺฉูุงูุช Node.js ุจุฑุง API ุณุงูุงูู ุฏุงูุง (danameduapi)

ุงู ูพุฑูฺู ฺฉ ฺฉูุงูุช ุบุฑุฑุณู ุจุฑุง API ูุจโุณุงุช `dana.medu.ir` ุงุณุช ฺฉู ุงุฒ ุทุฑู ูููุฏุณ ูุนฺฉูุณ ฺฉูุงูุช ูุจ ุชูุณุนู ุฏุงุฏู ุดุฏู ุงุณุช. ูุฏู ุงุตู ุงู ูพุฑูฺูุ ูุฑุงูู ฺฉุฑุฏู ฺฉ ุฑุงุจุท ุจุฑูุงููโููุณ (API Wrapper) ุชูุฒ ู ูุงุจู ุงุณุชูุงุฏู ุฏุฑ ูุญุท Node.js ุจุฑุง ุฏุณุชุฑุณ ุจู ุงุทูุงุนุงุช ุฏุงูุดโุขููุฒุ ูุงููุฏ ฺฉุงุฑูุงูู (ฺฉุงุฑูุงูู ููุง)ุ ุงุณุช.

## โจ ูฺฺฏโูุง

- **ุงุญุฑุงุฒ ููุช ุงูู:** ุจุง ุงุณุชูุงุฏู ุงุฒ ฺฉูฺฉ (`cookie`) ู `client-id` ุงุณุชุฎุฑุงุฌ ุดุฏู ุงุฒ ูุดุณุช (session) ฺฉุงุฑุจุฑุ ุจู ุตูุฑุช ุงูู ุจู API ูุชุตู ูโุดูุฏ.
- **ุฑูุฒฺฏุดุง ุฎูุฏฺฉุงุฑ:** ูพุงุณุฎโูุง ุฑูุฒูฺฏุงุฑ ุดุฏู ุณุฑูุฑ ุฑุง ุจุง ูพุงุฏูโุณุงุฒ ุงูฺฏูุฑุชู `AES` ู ฺฉูุฏ ูุดุชูโุดุฏู ุงุฒ `client-id` (ููุงููุฏ ฺฉูุงูุช ุงุตู) ุจู ุตูุฑุช ุฎูุฏฺฉุงุฑ ุฑูุฒฺฏุดุง ูโฺฉูุฏ.
- **ุฑุงุจุท ฺฉุงุฑุจุฑ ุณุงุฏู:** ุงุฑุงุฆู ูุชุฏูุง ุณุงุฏู ู ูุงุจู ููู ุจุฑุง ุฏุฑุงูุช ุงุทูุงุนุงุช ูพฺุฏูุ ูุงููุฏ `getReportCard()`.
- **ฺฉูุงุณโูุง ฺฉูฺฉ:** ุดุงูู ฺฉูุงุณ `ReportCard` ุจุฑุง ุฏุณุชุฑุณ ุขุณุงู ู ูพุฑุฏุงุฒุด ุงุทูุงุนุงุช ฺฉุงุฑูุงูู (ูุงููุฏ ูุญุงุณุจู ูุนุฏู).
- **ุจุฏูู ูุงุจุณุชฺฏโูุง ุงุถุงู:** ููุท ุจู `axios` ู `crypto-js` ูุงุฒ ุฏุงุฑุฏ.

## ๐ผ๏ธ ุฎุฑูุฌ ููููู

ุฎุฑูุฌ ุงุณฺฉุฑูพุช `example.js` ฺฉู ฺฉุงุฑูุงูู ุฑุง ุจุง ุงุณุชุงูโุฏู ุฏุฑ ุชุฑููุงู ููุงุด ูโุฏูุฏ:

![ุฎุฑูุฌ ููููู ุงุณฺฉุฑูพุช](example.png)

## ๐ง ูุตุจ ู ุฑุงูโุงูุฏุงุฒ

ุงุจุชุฏุงุ ูพฺฉุฌโูุง ููุฑุฏ ูุงุฒ ุฑุง ูุตุจ ฺฉูุฏ:
```bash
npm install axios crypto-js chalk@4.1.2
```

## โ๏ธ ูุญูู ุงุณุชูุงุฏู

ุจุฑุง ุงุณุชูุงุฏู ุงุฒ ุงู ฺฉุชุงุจุฎุงููุ ุงุจุชุฏุง ุจุงุฏ ุงุทูุงุนุงุช ุงุญุฑุงุฒ ููุช ุฎูุฏ ุฑุง ุงุฒ ูุจโุณุงุช `dana.medu.ir` ุงุณุชุฎุฑุงุฌ ฺฉูุฏ.

**ฺฺฏููู ุงุทูุงุนุงุช ุฎูุฏ ุฑุง ูพุฏุง ฺฉููุ**
1.  ูุงุฑุฏ ุญุณุงุจ ฺฉุงุฑุจุฑ ุฎูุฏ ุฏุฑ `dana.medu.ir` ุดูุฏ.
2.  ุงุจุฒุงุฑ ุชูุณุนูโุฏููุฏฺฏุงู ูุฑูุฑฺฏุฑ ุฎูุฏ ุฑุง ุจุงุฒ ฺฉูุฏ (ูุนูููุงู ุจุง ฺฉูุฏ F12).
3.  ุจู ุชุจ `Network` (ุดุจฺฉู) ุจุฑูุฏ.
4.  ุตูุญู ุฑุง ุฑูุฑุด ฺฉูุฏ ู ฺฉ ุงุฒ ุฏุฑุฎูุงุณุชโูุง `get-data-source` ุฑุง ูพุฏุง ฺฉูุฏ.
5.  ุฏุฑ ุจุฎุด `Headers` ุฏุฑุฎูุงุณุชุ ููุงุฏุฑ `cookie` ู `client-id` ุฑุง ฺฉูพ ฺฉูุฏ.

ุณูพุณุ ูโุชูุงูุฏ ุงุฒ ฺฉุชุงุจุฎุงูู ูุงููุฏ ูุซุงู ุฒุฑ ุงุณุชูุงุฏู ฺฉูุฏ:

```javascript
const { DanaClient } = require('./dana-api.js');

// ุงุทูุงุนุงุช ุงุญุฑุงุฒ ููุช ุฎูุฏ ุฑุง ุงูุฌุง ูุฑุงุฑ ุฏูุฏ
// ุชูุตู ูโุดูุฏ ุงุฒ ูุชุบุฑูุง ูุญุท ุงุณุชูุงุฏู ฺฉูุฏ
const credentials = {
    cookie: 'sid=s%3A...', // ฺฉูฺฉ ฺฉูพ ุดุฏู
    clientId: 'lwc77byu-...',   // ฺฉูุงูุช ุขุฏ ฺฉูพ ุดุฏู
};

const dana = new DanaClient(credentials);

async function fetchReportCard() {
    try {
        // ุดูุงุณูโ ุฏูุฑู ุงูุชุญุงู ููุง (ุจุฑุง ูุซุงู ุฎุฑุฏุงุฏ ฑดฐณ)
        const implPath = 'EXMlosj07z63gdPL6IM3';
        const reportCard = await dana.getReportCard(implPath);

        console.log(`ุฏุงูุด ุขููุฒ: ${reportCard.getStudentFullName()}`);
        console.log(`ูุฏุฑุณู: ${reportCard.getSchoolName()}`);
        console.log("--- ููุฑุงุช ---");
        
        reportCard.getGrades().forEach(course => {
            console.log(`${course.title}: ${course.finalGrade || 'N/A'}`);
        });

        console.log(`\nูุนุฏู ฺฉู: ${reportCard.calculateGPA()}`);

    } catch (error) {
        console.error(`ุฎุทุง: ${error.message}`);
    }
}

fetchReportCard();
```
*ูุงู `example.js` ุฏุฑ ุงู ุฑูพุงุฒุชูุฑุ ฺฉ ูุซุงู ฺฉุงููโุชุฑ ุจุง ุฎุฑูุฌ ุฑูฺฏ ู ุฒุจุง ุงุฑุงุฆู ูโุฏูุฏ.*

## โ๏ธ ุณูุจ ูุณุฆููุช (Disclaimer)

ุงู ูพุฑูฺู ฺฉ ุงุจุฒุงุฑ **ุบุฑุฑุณู** ุงุณุช ู ุจู ูฺโูุฌู ุจู ูุฒุงุฑุช ุขููุฒุด ู ูพุฑูุฑุด ูุงุจุณุชฺฏ ูุฏุงุฑุฏ. ุงู ุงุจุฒุงุฑ ุชููุง ุจุฑุง ุงูุฏุงู ุขููุฒุด ู ููุงุด ุชูุงูุงโูุง ูู ุฏุฑ ุฒููู ูููุฏุณ ูุนฺฉูุณ ู ุชูุณุนู ูุฑูโุงูุฒุงุฑ ุงุฌุงุฏ ุดุฏู ุงุณุช. ูุณุฆููุช ุงุณุชูุงุฏู ุงุฒ ุงู ฺฉุฏ ฺฉุงููุงู ุจุฑ ุนูุฏู ฺฉุงุฑุจุฑ ุงุณุช.

## ๐ ูุงุณูุณ

ุงู ูพุฑูฺู ุชุญุช ูุงุณูุณ MIT ููุชุดุฑ ุดุฏู ุงุณุช.
